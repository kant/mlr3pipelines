<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- Google Site Verification -->
<meta name="google-site-verification" content="BrjL5fpoyHZu1rR8rwnnM2MBO3u3iIFB8NsmSuOsY84" />
<title>PipeOpBranch — mlr_pipeops_branch • mlr3pipelines</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  <link href="../extra.css" rel="stylesheet">
  <script src="../extra.js"></script>
<meta property="og:title" content="PipeOpBranch — mlr_pipeops_branch" />

<meta property="og:description" content="Perform alternative path branching: PipeOpBranch has multiple output channels
that connect to different paths in a Graph. At any time, only one of these
paths will be taken for execution. At the end of the different paths, the
PipeOpUnbranch PipeOp must be used to indicate the end of alternative paths.
Not to be confused with PipeOpCopy, the naming scheme is a bit unfortunate." />

<meta property="og:image" content="https://mlr3pipelines.mlr-org.com/logo.png" />
<meta name="twitter:card" content="summary" />


<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->




<link rel="icon" type="image/png" href="https://mlr-org.github.io/mlr/favicon.ico">
<link rel="apple-touch-icon" type="image/png" href="https://mlr-org.github.io/mlr/favicon.ico">
  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../index.html"></a>
      </div>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/introduction.html">Introduction</a>
    </li>
    <li>
      <a href="../articles/comparison_mlr3pipelines_mlr_sklearn.html">Comparison to Other Packages</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Function Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/mlr-org/mlr3pipelines">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://mlr-org.slack.com">
    <span class="fa fa-slack"></span>
     
  </a>
</li>
<li>
  <a href="https://stackoverflow.com/questions/tagged/mlr3">
    <span class="fa fa-stack-overflow"></span>
     
  </a>
</li>
<li>
  <a href="https://mlr-org.com/">
    <span class="fa fa-rss"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>PipeOpBranch</h1>
    <small>Source: <a href='https://github.com/mlr-org/mlr3pipelines/blob/master/R/PipeOpBranch.R'><code>R/PipeOpBranch.R</code></a></small>
    </div>

    
    <p>Perform alternative path branching: <code>PipeOpBranch</code> has multiple output channels
that connect to different paths in a <code><a href='Graph.html'>Graph</a></code>. At any time, only one of these
paths will be taken for execution. At the end of the different paths, the
<code><a href='mlr_pipeops_unbranch.html'>PipeOpUnbranch</a></code> <code>PipeOp</code> must be used to indicate the end of alternative paths.</p>
<p>Not to be confused with <code><a href='mlr_pipeops_copy.html'>PipeOpCopy</a></code>, the naming scheme is a bit unfortunate.</p>
    

        
    <h2 class="hasAnchor" id="format"><a class="anchor" href="#format"></a>Format</h2>

    <p><code>R6Class</code> object inheriting from <code><a href='PipeOp.html'>PipeOp</a></code>.</p>
    
    <h2 class="hasAnchor" id="construction"><a class="anchor" href="#construction"></a>Construction</h2>

    <pre>PipeOpBranch$new(options, id = "branch", param_vals = list())
</pre>
<ul>
<li><p><code>options</code> :: <code><a href='https://www.rdocumentation.org/packages/base/topics/numeric'>numeric(1)</a></code> | <code>character</code><br />
If <code>options</code> is an integer number, it determines the number of
output channels / options that are created, named <code>output1</code>...<code>output&lt;n&gt;</code>. The
<code>$selection</code> parameter will then be a <code>ParamInt</code>.
If <code>options</code> is a <code>character</code>, it determines the names of channels directly.
The <code>$selection</code> parameter will then be a <code>ParamFct</code>.</p></li>
<li><p><code>id</code> :: <code><a href='https://www.rdocumentation.org/packages/base/topics/character'>character(1)</a></code><br />
Identifier of resulting object, default <code>"branch"</code>.</p></li>
<li><p><code>param_vals</code> :: named <code>list</code><br />
List of hyperparameter settings, overwriting the hyperparameter settings that would otherwise be set during construction. Default <code><a href='https://www.rdocumentation.org/packages/base/topics/list'>list()</a></code>.</p></li>
</ul>
    
    <h2 class="hasAnchor" id="input-and-output"><a class="anchor" href="#input-and-output"></a>Input and Output</h2>

    
    <p><code>PipeOpBranch</code> has one input channel named <code>"input"</code>, taking any input (<code>"*"</code>) both during training and prediction.</p>
<p><code>PipeOpBranch</code> has multiple output channels depending on the <code>options</code> construction argument, named <code>"output1"</code>, <code>"output2"</code>, ...
if <code>options</code> is <code>numeric</code>, and named after each <code>options</code> value if <code>options</code> is a <code>character</code>.
All output channels produce the object given as input (<code>"*"</code>) or <code><a href='NO_OP.html'>NO_OP</a></code>, both during training and prediction.</p>
    
    <h2 class="hasAnchor" id="state"><a class="anchor" href="#state"></a>State</h2>

    
    <p>The <code>$state</code> is left empty (<code><a href='https://www.rdocumentation.org/packages/base/topics/list'>list()</a></code>).</p>
    
    <h2 class="hasAnchor" id="parameters"><a class="anchor" href="#parameters"></a>Parameters</h2>

    
    <ul>
<li><p><code>selection</code> :: <code><a href='https://www.rdocumentation.org/packages/base/topics/numeric'>numeric(1)</a></code> | <code><a href='https://www.rdocumentation.org/packages/base/topics/character'>character(1)</a></code><br />
Selection of branching path to take. Is a <code>ParamInt</code> if the <code>options</code> parameter
during construction was a <code><a href='https://www.rdocumentation.org/packages/base/topics/numeric'>numeric(1)</a></code>, and ranges from 1 to <code>options</code>. Is a
<code>ParamFct</code> if the <code>options</code> parameter was a <code>character</code> and its possible values
are the <code>options</code> values. Initialized to either 1 (if the <code>options</code> construction argument is <code><a href='https://www.rdocumentation.org/packages/base/topics/numeric'>numeric(1)</a></code>)
or the first element of <code>options</code> (if it is <code>character</code>).</p></li>
</ul>
    
    <h2 class="hasAnchor" id="internals"><a class="anchor" href="#internals"></a>Internals</h2>

    
    <p>Alternative path branching is handled by the <code><a href='PipeOp.html'>PipeOp</a></code> backend. To indicate that
a path should not be taken, <code>PipeOpBranch</code> returns the <code><a href='NO_OP.html'>NO_OP</a></code> object on its
output channel. The <code><a href='PipeOp.html'>PipeOp</a></code> handles each <code><a href='NO_OP.html'>NO_OP</a></code> input by automatically
returning a <code><a href='NO_OP.html'>NO_OP</a></code> output without calling <code>$train_internal()</code> or <code>$predict_internal()</code>,
until <code><a href='mlr_pipeops_unbranch.html'>PipeOpUnbranch</a></code> is reached. <code><a href='mlr_pipeops_unbranch.html'>PipeOpUnbranch</a></code> will then take multiple inputs,
all except one of which must be a <code><a href='NO_OP.html'>NO_OP</a></code>, and forward the only non-<code><a href='NO_OP.html'>NO_OP</a></code>
object on its output.</p>
    
    <h2 class="hasAnchor" id="fields"><a class="anchor" href="#fields"></a>Fields</h2>

    
    <p>Only fields inherited from <code><a href='PipeOp.html'>PipeOp</a></code>.</p>
    
    <h2 class="hasAnchor" id="methods"><a class="anchor" href="#methods"></a>Methods</h2>

    
    <p>Only methods inherited from <code><a href='PipeOp.html'>PipeOp</a></code>.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other PipeOps: <code><a href='PipeOpEnsemble.html'>PipeOpEnsemble</a></code>,
  <code><a href='PipeOpTaskPreproc.html'>PipeOpTaskPreproc</a></code>, <code><a href='PipeOp.html'>PipeOp</a></code>,
  <code><a href='mlr_pipeops_chunk.html'>mlr_pipeops_chunk</a></code>,
  <code><a href='mlr_pipeops_classbalancing.html'>mlr_pipeops_classbalancing</a></code>,
  <code><a href='mlr_pipeops_classifavg.html'>mlr_pipeops_classifavg</a></code>,
  <code><a href='mlr_pipeops_colapply.html'>mlr_pipeops_colapply</a></code>,
  <code><a href='mlr_pipeops_copy.html'>mlr_pipeops_copy</a></code>,
  <code><a href='mlr_pipeops_encode.html'>mlr_pipeops_encode</a></code>,
  <code><a href='mlr_pipeops_featureunion.html'>mlr_pipeops_featureunion</a></code>,
  <code><a href='mlr_pipeops_filter.html'>mlr_pipeops_filter</a></code>,
  <code><a href='mlr_pipeops_impute.html'>mlr_pipeops_impute</a></code>,
  <code><a href='mlr_pipeops_learner.html'>mlr_pipeops_learner</a></code>,
  <code><a href='mlr_pipeops_mutate.html'>mlr_pipeops_mutate</a></code>,
  <code><a href='mlr_pipeops_nop.html'>mlr_pipeops_nop</a></code>,
  <code><a href='mlr_pipeops_pca.html'>mlr_pipeops_pca</a></code>,
  <code><a href='mlr_pipeops_regravg.html'>mlr_pipeops_regravg</a></code>,
  <code><a href='mlr_pipeops_scale.html'>mlr_pipeops_scale</a></code>,
  <code><a href='mlr_pipeops_select.html'>mlr_pipeops_select</a></code>,
  <code><a href='mlr_pipeops_subsample.html'>mlr_pipeops_subsample</a></code>,
  <code><a href='mlr_pipeops_unbranch.html'>mlr_pipeops_unbranch</a></code>,
  <code><a href='mlr_pipeops.html'>mlr_pipeops</a></code></p>
<p>Other Path Branching: <code><a href='NO_OP.html'>NO_OP</a></code>,
  <code><a href='filter_noop.html'>filter_noop</a></code>, <code><a href='is_noop.html'>is_noop</a></code>,
  <code><a href='mlr_pipeops_unbranch.html'>mlr_pipeops_unbranch</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>library</a></span>(<span class='no'>mlr3</span>)

<span class='no'>pca</span> <span class='kw'>=</span> <span class='fu'><a href='po.html'>po</a></span>(<span class='st'>"pca"</span>)
<span class='no'>nop</span> <span class='kw'>=</span> <span class='fu'><a href='po.html'>po</a></span>(<span class='st'>"nop"</span>)
<span class='no'>choices</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"pca"</span>, <span class='st'>"nothing"</span>)
<span class='no'>gr</span> <span class='kw'>=</span> <span class='fu'><a href='po.html'>po</a></span>(<span class='st'>"branch"</span>, <span class='no'>choices</span>) <span class='kw'>%&gt;&gt;%</span>
  <span class='fu'><a href='gunion.html'>gunion</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>(<span class='no'>pca</span>, <span class='no'>nop</span>)) <span class='kw'>%&gt;&gt;%</span>
  <span class='fu'><a href='po.html'>po</a></span>(<span class='st'>"unbranch"</span>, <span class='no'>choices</span>)

<span class='no'>gr</span>$<span class='no'>param_set</span>$<span class='no'>values</span>$<span class='no'>branch.selection</span> <span class='kw'>=</span> <span class='st'>"pca"</span>
<span class='no'>gr</span>$<span class='fu'>train</span>(<span class='fu'><a href='https://mlr3.mlr-org.com/reference/mlr_sugar.html'>tsk</a></span>(<span class='st'>"iris"</span>))</div><div class='output co'>#&gt; $unbranch.output
#&gt; &lt;TaskClassif:iris&gt; (150 x 5)
#&gt; * Target: Species
#&gt; * Properties: multiclass
#&gt; * Features (4):
#&gt;   - dbl (4): PC1, PC2, PC3, PC4
#&gt; </div><div class='input'>
<span class='no'>gr</span>$<span class='no'>param_set</span>$<span class='no'>values</span>$<span class='no'>branch.selection</span> <span class='kw'>=</span> <span class='st'>"nothing"</span>
<span class='no'>gr</span>$<span class='fu'>train</span>(<span class='fu'><a href='https://mlr3.mlr-org.com/reference/mlr_sugar.html'>tsk</a></span>(<span class='st'>"iris"</span>))</div><div class='output co'>#&gt; $unbranch.output
#&gt; &lt;TaskClassif:iris&gt; (150 x 5)
#&gt; * Target: Species
#&gt; * Properties: multiclass
#&gt; * Features (4):
#&gt;   - dbl (4): Petal.Length, Petal.Width, Sepal.Length, Sepal.Width
#&gt; </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      
      <li><a href="#format">Format</a></li>

      <li><a href="#construction">Construction</a></li>

      <li><a href="#input-and-output">Input and Output</a></li>

      <li><a href="#state">State</a></li>

      <li><a href="#parameters">Parameters</a></li>

      <li><a href="#internals">Internals</a></li>

      <li><a href="#fields">Fields</a></li>

      <li><a href="#methods">Methods</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <!--<div class="copyright">
  <p>Developed by Martin Binder, Florian Pfisterer, Bernd Bischl, Michel Lang.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>
-->
      </footer>
   </div>

   

  </body>
</html>

